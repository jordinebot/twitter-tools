var TwitterClientInterface;TwitterClientInterface=function(){function a(){this.api="api.php/?action=",this.keys={oauth:""},this.response=!1}return a.prototype.setScope=function(a){return this.scope=a},a.prototype.setTimer=function(a){return this.timeout=a},a.prototype.setAjax=function(a){return this.ajax=a},a.prototype.authenticate=function(){return null!=this.ajax?this.ajax.get(this.api+"authenticate").success(function(a){return function(b){return a.keys.token=b.token}}(this)):!1},a.prototype.getUser=function(a){return null!=this.ajax?this.ajax.post(this.api+"user",{username:a}).success(function(a){return function(b){return null!=b.id?(console.log(b),a.timeout(function(){return a.scope.$apply(function(){return a.scope.user.bio=b.description,null!=b.status&&(a.scope.user.last_tweeted=b.status.created_at),a.scope.user.friends=b.friends_count,a.scope.user.followers=b.followers_count,a.scope.status.loaded=!0})})):a.timeout(function(){return a.scope.$apply(function(){return a.scope.status.loaded=!1})}),a.scope.status.loading=!1}}(this)):void 0},a}();var twitterToolsApp;twitterToolsApp=angular.module("twitterToolsApp",["yaru22.angular-timeago"]),twitterToolsApp.controller("mainController",function(a,b,c){var d,e;return b.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",e=new TwitterClientInterface,e.setScope(a),e.setTimer(c),e.setAjax(b),e.authenticate(),a.user={name:"",bio:"",last_tweeted:""},a.status={loading:!1,loaded:!1},a.getUsername=function(){return a.user.name},d=function(b){return a.status.loaded=!1,""!==b&&(a.status.loading=!0),e.getUser(b)},a.$watch(a.getUsername,d)});